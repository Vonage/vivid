@use '@vonage/vvd-design-tokens/build/scss/semantic-variables/scheme-variables';
@use '@vonage/vvd-foundation/scss/variable-names/color-semantic-variable-names' as color-semantic;
@use '@vonage/vvd-foundation/scss/mixins/color-connotation-mixins';
@use '@vonage/vvd-foundation/scss/mixins/shape-mixins';
@use '@vonage/vvd-typography/scss/typography';

@include color-connotation-mixins.connotations-context(
	':host(#{color-connotation-mixins.$connotation-placeholder})'
);

$vvd-badge-block-size: --vvd-badge-block-size;

:host {
	display: inline-flex;
	align-items: center;
	#{$vvd-badge-block-size}: 24px;
	height: var(#{$vvd-badge-block-size});
	block-size: var(#{$vvd-badge-block-size});
	padding: 0 10px;
	position: relative;
	color: var(#{color-semantic.$vvd-color-on-connotation});
	@include typography.typography-cat-shorthand('caption-bold');

	&::before {
		content: '';
		z-index: -1;
		border-radius: var(--border-radius);
		position: absolute;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;
		background-color: var(#{color-semantic.$vvd-color-connotation});
		opacity: calc(var(--opaque) * 0.01);
	}
}

:host([layout='soft']:not([disabled])) {
	--opaque: 20;
	color: var(#{scheme-variables.$vvd-color-on-base});
}

:host([layout='outlined']) {
	color: var(#{scheme-variables.$vvd-color-on-base});
	
	&::before {
		background-color: transparent;
		// TODO should be using step-600
		border: 1px solid var(#{color-semantic.$vvd-color-connotation});
	}
}

:host([disabled]) {
	color: var(#{scheme-variables.$vvd-color-contrast-dim});

	&::before {
		background-color: var(#{scheme-variables.$vvd-color-contrast-soft});
	}
}

:host([disabled][layout='outlined']) {
	&::before {
		background-color: transparent;
		border: 1px solid var(#{scheme-variables.$vvd-color-contrast-dim});
	}
}

:host([dense]) {
	#{$vvd-badge-block-size}: 20px;
  padding: 0 8px;
}

:host([enlarged]) {
	#{$vvd-badge-block-size}: 28px;
  padding: 0 12px;
}

@include shape-mixins.shape(
	$shapes: (
		rounded: 4px,
		pill: 14px,
	)
);
