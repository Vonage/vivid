@use 'sass:map';

@use 'partials/vwc-layout-variables' as variables;
@use 'partials/vwc-layout-mixins' as mixins;
@use 'partials/vwc-layout-functions' as functions;


.layout {
	display: grid;
	grid-auto-rows: min-content;

	@include mixins.measurement(map.keys(variables.$bases)...) using ($basis) {
		#{functions.get-selector-with-default('.layout-column-basis', $basis, md, map.keys(variables.$bases))} {
			grid-template-columns: repeat(
				var(#{variables.$auto-sizing}),
				minmax(map.get(variables.$bases, $basis), 1fr)
			);
		}
	}

	@include mixins.measurement(map.keys(variables.$spaces)...) using ($space) {
		#{functions.get-selector-with-default('.layout-column-spacing', $space, md, map.keys(variables.$spaces))} {
			gap: map.get(variables.$spaces, $space);
		}
	}

	@include mixins.measurement(map.keys(variables.$spaces)...) using ($space) {
		&.layout-gutters-#{$space} {
			margin: map.get(variables.$spaces, $space);
		}
	}

	&:not(.layout-auto-sizing-fill),
	&.layout-auto-sizing-fit {
		#{variables.$auto-sizing}: auto-fit;
	}
	&.layout-auto-sizing-fill {
		#{variables.$auto-sizing}: auto-fill;
	}
}
