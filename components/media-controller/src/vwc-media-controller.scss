@use '@vonage/vvd-design-tokens/build/scss/semantic-variables/scheme-variables';

:host {
	$scrub-size: 12px;
	$button-size: 16px;
	display: block;
	box-sizing: border-box;

	*:focus:not(:focus-visible) {
		outline: none;
	}

	:focus-visible {
		outline: var(#{scheme-variables.$vvd-color-base}) solid 2px;
	}

	> div {
		$basic: var(#{scheme-variables.$vvd-color-cta});
		$track: var(#{scheme-variables.$vvd-color-on-cta});
		display: flex;
		align-items: center;
		padding: 5px;

		> button {
			width: $button-size;
			height: $button-size;
			box-sizing: border-box;
			flex: 0 0 $button-size;
			padding: 0;
			border: solid 1px transparent;
			background-color: transparent;
			cursor: pointer;
			-webkit-tap-highlight-color: transparent;

			> vwc-icon {
				--icon-size: #{$button-size};
				color: var(#{scheme-variables.$vvd-color-cta});
				pointer-events: none;
			}

			> .play {
				display: block;
			}
			> .pause {
				display: none;
			}
		}

		> div {
			position: relative;
			width: 100%;
			min-width: 5rem;
			height: 3px;
			box-sizing: border-box;
			margin-left: 1rem;
			cursor: pointer;
			user-select: none;

			> button {

				position: absolute;
				top: 50%;
				left: 0;
				width: $scrub-size;
				height: $scrub-size;
				padding: 0;
				border: 0 none;
				background-color: $basic;
				border-radius: $scrub-size/2;
				box-shadow: 0 0 0 0 #0000;
				cursor: pointer;
				-webkit-tap-highlight-color: transparent;
				transform: translate(-50%, -50%);
				transform-origin: center;
				transition: background-color 0.2s, box-shadow 200ms, border-radius 0.2s;

				&::before {
					position: absolute;
					z-index: -1;
					top: 50%;
					left: 50%;
					display: block;
					overflow: hidden;
					width: $scrub-size;
					height: $scrub-size;
					background-color: var(#{scheme-variables.$vvd-color-neutral-10});
					border-radius: 27px;
					content: '';
					opacity: 0;
					pointer-events: none;
					transform: translate(-50%, -50%);
					transition: width 0.1s, height 0.1s, opacity 0.1s;
				}
			}
		}
	}

	> .play {
		> button {
			> vwc-icon {
				--icon-size: 100%;
				color: var(#{scheme-variables.$vvd-color-cta});
			}

			> .play {
				display: none;
			}

			> .pause {
				display: block;
			}
		}
	}

	> .scrub {
		> div {
			> button {
				&::before {
					width: ($scrub-size * 3);
					height: ($scrub-size * 3);
					opacity: 0.2;
				}
			}
		}
	}
}
