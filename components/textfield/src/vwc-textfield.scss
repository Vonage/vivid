@forward './vwc-textfield-coupling';
@use '@vonage/vvd-foundation/scss/variable-names/color-semantic-variable-names' as color-semantic;

// :host {
//   --vvd-outline-color: var(--mdc-text-field-outlined-idle-border-color);
// }

// .mdc-text-field {
//   &:hover,
//   &--focused {
//     --vvd-outline-color: var(--mdc-text-field-outlined-hover-border-color);

//     &.mdc-text-field--invalid {
//       --vvd-outline-color: var(--mdc-text-field-error-color);
//     }
//   }

//   &--invalid {
//     --vvd-outline-color: var(--mdc-text-field-error-color);
//   }
// }

// :host([disabled]) .mdc-text-field {
//   --vvd-outline-color: var(--mdc-text-field-outlined-disabled-border-color);
// }

$vvd-text-field-size-block: --vvd-text-field-size-block;

:host {
  --mdc-theme-primary: #131415;
  --mdc-theme-error: #{color-semantic.$formfield-label-error-ink};
  --mdc-text-field-fill-color: #ffffff;
  --mdc-text-field-ink-color: var(--mdc-theme-primary);

  --mdc-text-field-label-ink-color: var(
    #{color-semantic.$formfield-label-idle-ink}
  );
  --mdc-text-field-disabled-ink-color: var(
    #{color-semantic.$formfield-disabled-ink}
  );
  --mdc-text-field-disabled-fill-color: var(
    #{color-semantic.$formfield-disabled-fill}
  );
  --mdc-text-field-outlined-idle-border-color: var(
    #{color-semantic.$formfield-border-idle}
  );
  --mdc-text-field-outlined-hover-border-color: var(
    #{color-semantic.$formfield-border-hover}
  );
  --mdc-text-field-outlined-disabled-border-color: var(
    #{color-semantic.$formfield-border-disabled}
  );
  --mdc-text-field-error-color: var(
    #{color-semantic.$formfield-label-error-ink}
  );
  --mdc-text-field-error-fill-color: var(
    #{color-semantic.$formfield-error-fill}
  );
}

:host([disabled]) .mdc-text-field {
  background-color: var(--mdc-text-field-disabled-fill-color);
}

:host(:not([disabled])) {
  .mdc-text-field.mdc-text-field--focused:not(.mdc-text-field--invalid) .mdc-floating-label {
    color: var(--mdc-text-field-label-ink-color);
  }
}

:host([shape='pill']) {
  --mdc-shape-small: 24px;
}

:host(:not([shape='pill'])) {
  --mdc-shape-small: 6px;
}

:host(:not([shape='pill'])[dense]) {
  --mdc-shape-small: 5px;
}

:host(:not([dense])) {
  #{$vvd-text-field-size-block}: 48px;

  .mdc-text-field__input {
    align-self: flex-end;
    height: 32px;
  }
}

:host([dense]) {
  #{$vvd-text-field-size-block}: 40px;

  .mdc-floating-label {
    display: none;
  }
}

.mdc-text-field {
  border-bottom-right-radius: var(--mdc-shape-small);
  border-bottom-left-radius: var(--mdc-shape-small);
  height: var(#{$vvd-text-field-size-block});

  &,
  & + .mdc-text-field-helper-line {
    padding: 0 14px;
  }

  .mdc-floating-label,
  .mdc-text-field__input {
    font-stretch: var(--mdc-typography-subtitle1-font-stretch); // ! this was supposed to be set by MDC
  }

  .mdc-floating-label {
    left: 14px;
    transition-property: transform, font-size;
  }

  .mdc-floating-label--float-above {
    font-size: 0.75rem;
    transform: translateY(-100%);

    &.mdc-floating-label--shake {
      animation: none;
    }
  }

  &--outlined .mdc-floating-label {
    left: 2px;
  }

  &--invalid {
    &.mdc-text-field--outlined {
      background-color: var(--mdc-text-field-error-fill-color);

      .mdc-floating-label {
        color: var(--mdc-text-field-error-color);
      }
    }
  }
}

// TODO: readonly styling
