@use 'sass:selector';
@forward './vwc-button-coupling';
@use '../../../utils/scss/variable-names/color-semantic-variable-names' as color-semantic;

:host {
	--mdc-button-disabled-ink-color: var(#{color-semantic.$formfield-disabled-ink});
	--mdc-button-disabled-fill-color: var(#{color-semantic.$formfield-border-idle});
}


// ! move to utils as this might be a common
// ! mixin for other components such as call-out
@mixin connotations-context(
  $selector: ':host([connotation-specifier])',
  $default: primary
) {
  $connotations: primary cta success error;

  @each $connotation in $connotations {
    $attr: '[connotation="#{$connotation}"i]';

    $scoped-selector: $selector; // prevents overriding argument

    $scoped-selector: selector.replace(
      #{$selector},
      '[connotation-specifier]',
      #{$attr}
    );

    @if ($connotation == $default) {
      $default-selector: selector.replace(
        #{$selector},
        '[connotation-specifier]',
        ':not([connotation])'
      );
      $scoped-selector: $default-selector, $scoped-selector;
    }

    #{$scoped-selector} {
      --mdc-theme-primary: var(--vvd-color-#{$connotation}-background);
      --mdc-theme-on-primary: var(--vvd-color-#{$connotation}-foreground);
    }
  }
}

@include connotations-context(':host([unelevated][connotation-specifier])');


/////////////////////////////////////////////////////////////////////////////
.mdc-button {
	font-stretch: var(--mdc-typography-button-font-stretch); // ! this was supposed to be set by MDC
  height: 40px;
	letter-spacing: normal;
  border-radius: 6px;

  &.mdc-button--dense {
    height: 32px;
  }

	vwc-icon {
		margin-right: 6px;
		vertical-align: middle;
	}
}

:host([disabled]) .mdc-button.mdc-button--outlined {
  border-color: var(--vvd-color-disabled-fill-color);
}

.pill {
  border-radius: 40px;
}
