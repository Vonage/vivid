@use '@vonage/vvd-typography/scss/typography' as typography;
@use '@vonage/vvd-design-tokens/build/scss/semantic-variables/scheme-variables';
@use '@vonage/vvd-foundation/scss/variable-names/color-semantic-variable-names' as color-semantic;
@use '@vonage/vvd-foundation/scss/mixins/shape-mixins';

$vvd-list-item-block-size: --vvd-list-item-block-size;
$vvd-list-item-side-padding: --vvd-list-item-side-padding;
$vvd-list-item-graphic-margin: --vvd-list-item-graphic-margin;

:host {
	--mdc-list-side-padding: var(#{$vvd-list-item-side-padding});
	--mdc-list-item-graphic-margin: var(#{$vvd-list-item-graphic-margin});
	--mdc-list-item-graphic-size: 20px;
	--mdc-list-item-meta-size: 20px;
	--mdc-theme-text-icon-on-background: var(
		#{scheme-variables.$vvd-color-on-base}
	);
	--mdc-theme-text-hint-on-background: var(
		#{scheme-variables.$vvd-color-on-base}
	);
	@include typography.typography-cat-shorthand('body-2');
	height: var(#{$vvd-list-item-block-size});

	border-radius: var(--border-radius, 0);
	#{$vvd-list-item-block-size}: 40px;
	#{$vvd-list-item-side-padding}: 24px;
	#{$vvd-list-item-graphic-margin}: 16px;
}

:host([graphic='icon']:not([twoline])) {
	height: var(#{$vvd-list-item-block-size}); // override mwc fixed height
}

:host([twoline]) {
	height: auto;
	min-block-size: var(#{$vvd-list-item-block-size});

	&::after {
		position: absolute;
		right: var(#{$vvd-list-item-side-padding});
		bottom: 0;
		left: var(#{$vvd-list-item-side-padding});
		height: 1px;
		border-bottom: 1px solid var(#{scheme-variables.$vvd-color-30-neutral});
		content: '';
	}

	.mdc-list-item__graphic {
		align-self: flex-start;
		margin-block-start: 10px;
	}

	.mdc-list-item__primary-text {
		@include typography.typography-cat-shorthand('body-2-bold');
		margin-top: 12px;
		margin-bottom: 4px;
		// margin-block-end: 4px; // TODO uncomment with safari 13.1 test support
		// margin-block-start: 12px; // TODO uncomment with safari 13.1 test support

		&::before,
		&::after {
			display: none;
		}
	}

	.mdc-list-item__secondary-text {
		@include typography.typography-cat-shorthand('caption');
		margin-bottom: 12px;
		// margin-block-end: 12px; // TODO uncomment with safari 13.1 test support
		white-space: normal;

		&::before {
			display: none;
		}
	}

	.mdc-list-item__meta {
		flex-shrink: 0;
	}
	#{$vvd-list-item-block-size}: 64px;
	#{$vvd-list-item-side-padding}: 16px;
	#{$vvd-list-item-graphic-margin}: 12px;
}

:host([disabled]) {
	--mdc-theme-text-icon-on-background: var(
		#{color-semantic.$formfield-disabled-ink}
	);
	--mdc-theme-text-hint-on-background: var(
		#{color-semantic.$formfield-disabled-ink}
	);

	.mdc-list-item__text {
		color: var(#{color-semantic.$formfield-disabled-ink});
	}
}

.mdc-list-item__meta {
	display: flex;
}

@include shape-mixins.shape(
	$shapes: (
		rounded: 6px,
	),
	$default: ''
);
