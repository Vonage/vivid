@use 'sass:selector';
@use '../variable-names/color-semantic-variable-names' as color-semantic;

$connotation-placeholder: '[connotation-specifier]';

@mixin connotations-context(
  $selector: ':host(#{$connotation-placeholder})',
  $connotations: primary cta success alert info announcement
) {

  @each $connotation in $connotations {
    $attr: '[connotation="#{$connotation}" i]';

    $scoped-selector: $selector; // prevents overriding argument

    $scoped-selector: selector.replace(
      #{$selector},
      #{$connotation-placeholder},
      #{$attr}
    );

    #{$scoped-selector} {
      #{color-semantic.$vvd-color-connotation-background}: var(--vvd-color-#{$connotation}-background);
      #{color-semantic.$vvd-color-connotation-foreground}: var(--vvd-color-#{$connotation}-foreground);
    }
  }
}
