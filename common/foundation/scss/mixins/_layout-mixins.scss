@use './connotation' as connotation;
@use '../functions' as functions;

// override to apply relevance
$layouts: filled outlined soft text ghost !default;

$variable-prefix: --layout !default;

////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
$all-layouts: (
	filled: 'filled',
	outlined: 'outlined',
	soft: 'soft',
	text: 'text',
	ghost: 'ghost',
);

%filled {
	#{$variable-prefix}--fill: var(#{connotation.$vvd-color-connotation});
	#{$variable-prefix}--text: var(#{connotation.$vvd-color-on-connotation});
}

%outlined {
	#{$variable-prefix}--fill: transparent;
	#{$variable-prefix}--outline: 1px solid var(#{color-connotation.$vvd-color-connotation});
	#{$variable-prefix}--text: var(#{color-connotation.$vvd-color-connotation}--contrast);
}

%soft {
	#{$variable-prefix}--fill: var(#{color-connotation.$vvd-color-connotation}--soft);
	#{$variable-prefix}--text: var(#{color-connotation.$vvd-color-connotation}--contrast);
}

%text,
%ghost {
	#{$variable-prefix}--fill: transparent;
	#{$variable-prefix}--text: var(#{connotation.$vvd-color-connotation});
}

@mixin layout() {
	@each $layout in functions.pick-list($layouts, $all-layouts) {
		#{':host([layout="#{$layout}"i])'} {
			@extend %#{$layout};
		}
	}
}

@mixin layout-default($name) {
	$compound: '';

	@each $layout in functions.pick-list($layouts, $all-layouts) {
		@if $name != $layout {
			$compound: $compound + ':not([layout="#{$layout}"i])';
		}
	}

	:host(#{$compound}) {
		@extend %#{$name};
	}
}
